# 负载均衡

## 内置策略

- 轮询

  按时序或排列次序将前端请求分配到不同的后端节点上

- 加权轮询

  类似轮询，增加后端节点权重支持，主要解决后端节点性能不均的情况

- IP hash

  根据前端访问 `IP` 进行 `hash` 操作，根据 `hash` 结果将请求分配给不同的后端节点

  没个前端 `IP` 会固定访问一个后端节点，可以避免考虑前端用户 `session` 在后端多个节点上需要共享的问题

## 拓展策略

- url hash

  类似 `IP hash` ，这里是根据访问的 `url` 做 `hash` 运算

  优点：如果后端有缓存服务器，可以提高缓存效率

  缺点：无法自动剔除有异常的后端节点

- fair

  根据后端的负载情况分配节点。

  根据后端的响应时间判断负载情况，响应时间短的节点负载相对较轻